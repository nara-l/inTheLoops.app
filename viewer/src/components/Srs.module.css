/* Srs.module.css - Japanese SRS-inspired theme */

.root {
  --srs-bg: #fafaf9;
  --srs-surface: #ffffff;
  --srs-text: #1a1a1a;
  --srs-muted: #6b7280;
  --srs-accent: #dc2626; /* red */
  --srs-accent-2: #fbbf24; /* amber */
  --srs-accent-3: #3b82f6; /* blue */
  --srs-shadow: rgba(0, 0, 0, 0.1);
  --srs-ring: rgba(251, 191, 36, 0.4);
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', serif;
  --radius: 16px;
  --radius-sm: 8px;
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  
  min-height: 100vh;
  background: var(--srs-bg);
  font-family: var(--font-sans);
  color: var(--srs-text);
  position: relative;
  overflow-x: hidden;
}

/* Top bar */
.topBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(250, 250, 249, 0.95);
  backdrop-filter: blur(10px);
  z-index: 100;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* Background layers */
.bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}

.pattern {
  position: absolute;
  inset: 0;
  background-image: 
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 35px,
      rgba(251, 191, 36, 0.02) 35px,
      rgba(251, 191, 36, 0.02) 70px
    );
  animation: drift 60s linear infinite;
}

@keyframes drift {
  from { transform: translateX(0); }
  to { transform: translateX(70px); }
}

.grain {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
}

/* Header */
.header {
  text-align: center;
  padding: 100px 20px 40px;
  position: relative;
  z-index: 1;
}

.badge {
  display: inline-block;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--srs-accent), var(--srs-accent-2));
  color: white;
  font-size: 32px;
  font-weight: bold;
  line-height: 60px;
  border-radius: 12px;
  margin-bottom: 16px;
  box-shadow: var(--shadow-lg);
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.title {
  font-size: 2.5rem;
  font-weight: 900;
  letter-spacing: -0.02em;
  margin-bottom: 8px;
  background: linear-gradient(135deg, var(--srs-text) 0%, var(--srs-accent) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.subtitle {
  color: var(--srs-muted);
  font-size: 1.125rem;
}

/* Board layout */
.board {
  position: relative;
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px 16px 120px;
  z-index: 1;
}

.connections {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.connector {
  stroke: rgba(0, 0, 0, 0.08);
  stroke-width: 2;
}

/* Cards */
.card {
  position: relative;
  background: var(--srs-surface);
  color: var(--srs-text);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow-lg);
  transition: transform .25s cubic-bezier(.2,.8,.2,1), box-shadow .25s;
}
.card:hover { transform: translateY(-4px) rotate(var(--rot, 0deg)); }

.main {
  margin: 0 auto;
  max-width: 560px;
}

.reply {
  position: relative;
  margin: 16px auto;
}

.hot { outline: 3px solid rgba(220, 38, 38, 0.15); }
.cold { outline: 3px solid rgba(59, 130, 246, 0.15); }
.legendary { outline: 3px solid rgba(251, 191, 36, 0.15); }

.cardHeader { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.label { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: 8px; background: linear-gradient(135deg, var(--srs-accent), var(--srs-accent-2)); color: #fff; font-weight: 700; }
.labelText { font-size: 12px; letter-spacing: .08em; color: var(--srs-muted); }

.authorRow { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.authorInfo { display: flex; flex-direction: column; }
.authorName { font-weight: 700; }
.handle { font-size: 12px; opacity: .7; }
.content { font-family: var(--font-serif); font-size: 1.05rem; line-height: 1.5; }
.reactions { margin-top: 10px; }

/* Desktop positioning using CSS vars from style */
.repliesContainer { position: relative; min-height: 640px; }
.repliesContainer .reply { position: absolute; left: calc(50% + var(--x, 0px)); top: calc(40% + var(--y, 0px)); transform: translate(-50%, -50%) rotate(var(--rot, 0deg)); transition: transform .3s; }

/* Theming ReactionBar locally */
:global(.ig-reactions) { display: flex; gap: 10px; align-items: center; }
:global(.ig-reaction) { background: transparent; border: none; padding: 4px; cursor: pointer; position: relative; }
:global(.ig-reaction .emoji) { font-size: 18px; line-height: 1; transition: transform .18s ease; }
:global(.ig-reaction .count) { position: absolute; top: -6px; right: -8px; background: #fff; color: #111; border: 1px solid #eee; border-radius: 9999px; padding: 0 4px; font-size: 10px; line-height: 14px; min-width: 14px; text-align: center; box-shadow: 0 1px 2px rgba(0,0,0,0.08); }
:global(.ig-reaction.active .emoji) { transform: scale(1.2) rotate(10deg); }
:global(.ig-reaction.active::after) { content: ""; position: absolute; left: 50%; top: 50%; width: 8px; height: 8px; border-radius: 999px; border: 2px solid var(--srs-accent); transform: translate(-50%, -50%); animation: srsRing 0.5s ease-out forwards; }
@keyframes srsRing { 0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; } 100% { transform: translate(-50%, -50%) scale(3); opacity: 0; } }

/* Particle overrides */
:global(.particle-layer) { z-index: 9999; }
:global(.particle) { filter: drop-shadow(0 2px 8px var(--srs-shadow)); }

/* Floating elements */
.floatingElements { position: fixed; inset: 0; pointer-events: none; z-index: 0; overflow: hidden; }
.float1, .float2, .float3 { position: absolute; font-size: 24px; opacity: 0.3; animation: floatAround 20s linear infinite; }
.float1 { top: 20%; left: 10%; animation-delay: 0s; }
.float2 { top: 60%; right: 15%; animation-delay: -7s; }
.float3 { bottom: 30%; left: 50%; animation-delay: -14s; }
@keyframes floatAround { 0% { transform: translate(0, 0) rotate(0deg); } 33% { transform: translate(100px, -50px) rotate(120deg); } 66% { transform: translate(-50px, 100px) rotate(240deg); } 100% { transform: translate(0, 0) rotate(360deg); } }

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .card,
  :global(.ig-reaction),
  .badge,
  .pattern,
  .float1, .float2, .float3 {
    animation: none;
    transition: none;
  }
  .card:hover { transform: translateY(-2px); }
}

/* Mobile responsiveness */
@media (max-width: 959px) {
  .title { font-size: 2rem; }
  .header { padding-top: 80px; }
  .repliesContainer { min-height: auto; }
  .reply { position: relative !important; transform: none !important; left: auto !important; top: auto !important; }
  .connections { display: none; }
}

